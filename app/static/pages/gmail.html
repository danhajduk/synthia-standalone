<!-- Gmail integration header -->
<h2>ðŸ“¬ Gmail Integration</h2>

<!-- Unread emails today -->
<div style="font-size: 1.5rem; margin-bottom: 0.5rem;">
  <strong>Unread emails today:</strong> <span id="gmail-unread-today">â€“</span>
</div>

<!-- Gmail stats summary -->
<div style="margin-bottom: 1rem; font-size: 1rem;">
  <strong>Total stored emails:</strong> <span id="gmail-total-count">â€“</span> |
  <strong>Unclassified:</strong> <span id="gmail-uncategorized-count">â€“</span>
</div>

<!-- Control buttons -->
<div style="margin-bottom: 1rem;">
  <button onclick="fetchAndStoreEmails()">ðŸ“¥ Fetch Emails</button>
  <button onclick="aiClassifyEmails()">ðŸ§  AI Classify</button>
</div>
<div id="gmail-fetch-result" style="margin-bottom: 1rem;"></div>

<!-- Spamhaus check -->
<h4>ðŸ”Ž Check Sender Domains on Spamhaus</h4>
<button onclick="checkSpamhaus()">Check Last 20</button>
<div id="spamhaus-check-result" style="margin-top: 0.5rem; margin-bottom: 1rem;"></div>

<!-- Stored emails table -->
<h3>ðŸ“‘ Stored Emails:</h3>
<div style="margin-bottom: 1rem;">
  <label for="filter-sender">Sender:</label>
  <select id="filter-sender" onchange="loadStoredEmails()">
    <option value="">All</option>
  </select>

  <label for="filter-category" style="margin-left: 1em;">Category:</label>
  <select id="filter-category" onchange="loadStoredEmails()">
    <option value="">All</option>
  </select>
</div>
<table id="gmail-email-table" border="1" cellspacing="0" cellpadding="6" style="width: 100%; text-align: left;">
  <thead>
    <tr>
      <th>Sender</th>
      <th>Email</th>
      <th>Subject</th>
      <th>Category</th>
      <th>Classified By</th>
    </tr>
  </thead>
    <tbody id="gmail-email-body">
    <tr><td colspan="4">Loading...</td></tr>
  </tbody>
</table>
